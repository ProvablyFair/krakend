{
  "version": 2,
  "port": 8080,
  "timeout": "3000ms",
  "cache_ttl": "300s",
  "host": [
    "mjolnir.mbit-jorge-portfolio.host"
  ],
  "extra_config": {
    "github_com/devopsfaith/krakend-gologging": {
      "level": "DEBUG",
      "prefix": "[KRAKEND]",
      "stdout": true
    }
  },
  "endpoints": [
    {
      "endpoint": "/",
      "output_encoding": "no-op",
      "method": "GET",
      "backend": [
        {
          "url_pattern": "/",
          "host": ["mjolnir.mbit-jorge-portfolio.host"],
          "encoding": "no-op"
        }
      ]
    },
    {
      "endpoint": "/demo",
      "method": "GET",
      "backend": [
        {
          "url_pattern": "/demo"
        }
      ]
    },
    {
      "endpoint": "/freespins/issue",
      "method": "POST",
      "backend": [
        {
          "url_pattern": "/freespins/issue"
        }
      ]
    },
    {
      "endpoint": "/freespins/cancel",
      "method": "POST",
      "backend": [
        {
          "url_pattern": "/freespins/cancel"
        }
      ]
    },
    {
      "endpoint": "/sessions",
      "output_encoding": "no-op",
      "headers_to_pass": [
        "X-Request-Sign"
      ],
      "method": "POST",
      "backend": [
        {
          "url_pattern": "/sessions",
          "encoding": "no-op",
          "extra_config":{
            "github.com/devopsfaith/krakend-martian": {
              "fifo.Group": {
                "aggregateErrors": true,
                "modifiers": [
                  {
                    "provablyFair.BackendSelector": {
                      "mjolnir-slots": "mjolnir.mbit-jorge-portfolio.host"
                    }
                  }
                ],
                "scope": [
                    "request",
                    "response"
                ]
              }
            }
          }
        }
      ]
    }
  ]
}
